{"id":"bdh-067","title":"Add :reservations command","description":"The :reservations command was removed. While bdh :aweb locks exists, it has different presentation:\n\nReference :reservations (from lock.go):\n- Separates 'Your Reservations' from 'Other Agents Reservations'\n- Shows 'Do not edit these files' warning for others' locks\n- Includes bead_id and reason if available\n- Uses BeadHub client (client.ListLocksRequest)\n\nCurrent :aweb locks:\n- Flat list with path, alias, expiry\n- No separation or warnings\n- Uses aweb client (aweb.ReservationList)\n\nShould add :reservations with reference behavior, or enhance :aweb locks to match.","status":"closed","priority":3,"issue_type":"bug","owner":"juan@juanreyero.com","created_at":"2026-02-05T11:15:57.31103Z","created_by":"Juan Reyero","updated_at":"2026-02-05T11:30:58.488217Z","closed_at":"2026-02-05T11:30:58.488217Z","close_reason":"Added :reservations command with reference behavior"}
{"id":"bdh-18l","title":"Fix :status to use beadhub config","description":"The :status command was changed to get identity from aweb introspect API instead of local .beadhub config. This is a regression.\n\nReference behavior (status.go from Archive):\n- Shows workspace_id, alias, human_name, project_slug, beadhub_url from local config\n- Includes FormatCoordinationHeader()\n- Has detectAndCleanGoneWorkspaces() for cleanup\n\nCurrent behavior:\n- Gets identity from awebClient.Introspect() \n- Shows project_id, agent_id, alias from aweb\n- Missing coordination header\n- Missing gone workspace cleanup\n\nShould restore reference behavior while keeping team status and escalations from BeadHub.","status":"closed","priority":2,"issue_type":"bug","owner":"juan@juanreyero.com","created_at":"2026-02-05T11:15:54.480671Z","created_by":"Juan Reyero","updated_at":"2026-02-05T11:30:13.647511Z","closed_at":"2026-02-05T11:30:13.647511Z","close_reason":"Fixed :status to use beadhub config instead of aweb"}
{"id":"bdh-2et","title":"Request aw CLI chat: flags to positional args + --leave-conversation","description":"Request aw CLI to align chat interface with bdh.\n\nOriginal request: positional args + rename --leaving to --leave-conversation.\nExpanded request: switch aw from stdlib flag to cobra for identical UX (flag ordering works the same in both CLIs).\n\nTracked on aw side as aw-p1b. Eve completed the positional args change; cobra migration requested but she was offline — message sent, awaiting response.","notes":"Eve (eve-implementer) picked this up, tracking as aw-p1b on her side. She'll ping when done.","status":"closed","priority":2,"issue_type":"task","owner":"juan@juanreyero.com","created_at":"2026-02-04T13:04:03.534657Z","created_by":"Juan Reyero","updated_at":"2026-02-04T13:53:40.323687Z","closed_at":"2026-02-04T13:53:40.323687Z","close_reason":"Request communicated to Eve (aw-p1b). Positional args done; cobra migration pending her response."}
{"id":"bdh-6vr","title":"Refactor chat command from flags to subcommands","description":"Refactor bdh :aweb chat from mutually exclusive flags to subcommands. The interface must be identical to aw CLI (which will also be updated to match).\n\nTarget interface (identical for both aw and bdh :aweb):\n  chat send \u003calias\u003e \"message\" [--start-conversation] [--leave-conversation] [--wait N] [--json]\n  chat pending [--json]\n  chat open \u003calias\u003e [--json]\n  chat history \u003calias\u003e [--json]\n  chat hang-on \u003calias\u003e \"message\" [--json]\n\nDesign notes:\n- Required arguments (alias, message) are positional, not flags\n- Optional modifiers (--start-conversation, --leave-conversation, --wait) stay as flags\n- Default send (no modifier) replaces the current --reply mode\n- --leave-conversation (not --leaving) for consistency across both CLIs\n- show-pending is out of scope\n- The aw library API (chat.Send, chat.Open, etc.) does not change — this is CLI-only\n- Embedded command strings in output formatting (lines 390, 411, 494, 584, 586) must also be updated\n\nFiles to modify (all in bdh repo):\n- internal/commands/chat.go - main refactor from flags to subcommands\n- internal/commands/chat_test.go - update tests for new subcommand structure\n- internal/commands/aweb.go - update init() that registers chatCmd as parent with subcommands\n- internal/commands/notifications.go - update hardcoded command references","status":"closed","priority":2,"issue_type":"task","owner":"juan@juanreyero.com","created_at":"2026-02-04T12:48:34.477076Z","created_by":"Juan Reyero","updated_at":"2026-02-04T13:25:51.672803Z","closed_at":"2026-02-04T13:25:51.672803Z","close_reason":"Refactored chat from flags to subcommands. All tests pass."}
{"id":"bdh-a3f","title":"Update agent_docs.go and default policies for chat subcommand syntax","description":"After the chat command is refactored from flags to subcommands (bdh-6vr), update all default policy templates and agent documentation to reference the new subcommand-based syntax. This spans both repos.\n\nChanges needed:\n- 'bdh :aweb chat --start-conversation \u003calias\u003e \"message\"' -\u003e 'bdh :aweb chat send \u003calias\u003e \"message\" --start-conversation'\n- All other chat command references updated to subcommand syntax\n\nFiles to modify in bdh:\n- internal/commands/agent_docs.go - update bdhInstructionsContent and bdhAgentsTemplate\n\nFiles to modify in beadhub:\n- src/beadhub/defaults/03-communication-chat.md - chat policy defaults\n- src/beadhub/defaults/implementer.md - role-specific chat references\n- src/beadhub/defaults/coordinator.md - role-specific chat references\n- src/beadhub/defaults/reviewer.md - role-specific chat references\n- src/beadhub/defaults/backend.md - role-specific chat references\n- src/beadhub/defaults/frontend.md - role-specific chat references\n\nBob already fixed incorrect command references to match the current flag-based interface; this bead updates them again to match the new subcommand interface.","status":"closed","priority":2,"issue_type":"task","owner":"juan@juanreyero.com","created_at":"2026-02-04T12:48:40.918124Z","created_by":"Juan Reyero","updated_at":"2026-02-04T13:58:41.643276Z","closed_at":"2026-02-04T13:58:41.643276Z","close_reason":"Updated agent_docs.go. Beadhub policy files were already using new syntax.","dependencies":[{"issue_id":"bdh-a3f","depends_on_id":"bdh-6vr","type":"blocks","created_at":"2026-02-04T12:48:43.338891Z","created_by":"Juan Reyero"}]}
{"id":"bdh-bdd","title":"Restore :who command","description":"The :who command was removed during aweb integration. It should show all active workspaces with their claims, file reservations, apex tracking (what they're working on), etc. Currently only bdh :aweb who exists which shows a simpler online/offline agent list without the rich beadhub-specific info.\n\nReference implementation: Archive/beadhub/bdh/internal/commands/who.go\n\nKey features to restore:\n- Shows bounded list of workspaces (default 50, max 200)\n- For each workspace: alias, human, status, last_seen\n- Working on: apex_id/apex_title (distinguishes epic vs task)\n- Recent focus when no claims\n- Claims with stale indicator (\u003e24h)\n- File reservations with expiry\n- Options: --json, --limit, --all, --only-with-claims","status":"closed","priority":2,"issue_type":"bug","owner":"juan@juanreyero.com","created_at":"2026-02-05T11:15:51.119028Z","created_by":"Juan Reyero","updated_at":"2026-02-05T11:29:02.605855Z","closed_at":"2026-02-05T11:29:02.605855Z","close_reason":"Restored :who command with full reference implementation"}
{"id":"bdh-dae","title":"Fix docs: :aweb chat/mail syntax + init-injected instructions","description":"Update docs to match current cobra-based CLI behavior: chat/mail live under 'bdh :aweb', chat is subcommand-based (send/pending/open/history/hang-on), and flags can be interspersed with positional args (no 'flags must come before args' rule). Ensure content injected by 'bdh :init' (internal/commands/agent_docs.go + PRIME.md header) matches this canonical syntax. Also update any SOT docs in ../beadhub-sot that still reference legacy 'bdh :chat' or flag-style '... chat --pending'.","status":"closed","priority":2,"issue_type":"task","owner":"juan@juanreyero.com","created_at":"2026-02-04T16:52:56.330576Z","created_by":"Juan Reyero","updated_at":"2026-02-04T17:02:43.202452Z","closed_at":"2026-02-04T17:02:43.202452Z","close_reason":"Updated bdh README + init-injected templates; updated beadhub-sot docs to :aweb mail/chat syntax and removed outdated flag-ordering/legacy :mail/:chat references."}
{"id":"bdh-mp7","title":"Update beadhub.ai: replace :who references with :status","description":"After bdh :status refactor, update beadhub.ai repo:\n- Policies\n- Documentation\n- Any references to bdh :who\n\nRepo: ../beadhub.ai","status":"open","priority":2,"issue_type":"task","owner":"juan@juanreyero.com","created_at":"2026-02-05T17:24:13.920396Z","created_by":"Juan Reyero","updated_at":"2026-02-05T17:24:13.920396Z","dependencies":[{"issue_id":"bdh-mp7","depends_on_id":"bdh-v0t","type":"blocks","created_at":"2026-02-05T17:24:25.017456Z","created_by":"Juan Reyero"}]}
{"id":"bdh-oor","title":"Update bdh docs: replace :who references with :status","description":"After :status refactor, update all documentation in bdh repo:\n- CLAUDE.md / AGENTS.md injected content\n- Help text\n- Policy templates\n- Any README or docs","status":"open","priority":2,"issue_type":"task","owner":"juan@juanreyero.com","created_at":"2026-02-05T17:24:09.169218Z","created_by":"Juan Reyero","updated_at":"2026-02-05T17:24:09.169218Z","dependencies":[{"issue_id":"bdh-oor","depends_on_id":"bdh-xl1","type":"blocks","created_at":"2026-02-05T17:24:24.755123Z","created_by":"Juan Reyero"}]}
{"id":"bdh-oym","title":"Update beadhub-cloud: replace :who references with :status","description":"After bdh :status refactor, update beadhub-cloud repo:\n- Policies\n- Documentation  \n- Any references to bdh :who\n\nRepo: ../beadhub-cloud","status":"open","priority":2,"issue_type":"task","owner":"juan@juanreyero.com","created_at":"2026-02-05T17:24:18.905613Z","created_by":"Juan Reyero","updated_at":"2026-02-05T17:24:18.905613Z","dependencies":[{"issue_id":"bdh-oym","depends_on_id":"bdh-v0t","type":"blocks","created_at":"2026-02-05T17:24:25.284232Z","created_by":"Juan Reyero"}]}
{"id":"bdh-v0t","title":"Remove :who command (replaced by :status)","description":"Remove bdh :who command after :status is refactored to include full team view.\n\n- Remove who.go and who_test.go\n- Remove from root.go registration\n- Update help text","status":"closed","priority":2,"issue_type":"task","owner":"juan@juanreyero.com","created_at":"2026-02-05T17:24:03.273552Z","created_by":"Juan Reyero","updated_at":"2026-02-05T17:41:41.245838Z","closed_at":"2026-02-05T17:41:41.245838Z","close_reason":"Consolidated into single commit: :status now comprehensive, :who removed","dependencies":[{"issue_id":"bdh-v0t","depends_on_id":"bdh-xl1","type":"blocks","created_at":"2026-02-05T17:24:24.485643Z","created_by":"Juan Reyero"}]}
{"id":"bdh-xl1","title":"Refactor :status to be comprehensive team view","description":"Refactor bdh :status to include:\n- Brief identity (alias, role - remove workspace ID, BeadHub URL noise)\n- Your reservations\n- Your claims\n- Full team view with each agent's claims, reservations, what they're working on\n- Notifications/escalations\n\nThis replaces the need for :who command.","status":"closed","priority":2,"issue_type":"feature","owner":"juan@juanreyero.com","created_at":"2026-02-05T17:23:57.827191Z","created_by":"Juan Reyero","updated_at":"2026-02-05T17:41:41.2439Z","closed_at":"2026-02-05T17:41:41.2439Z","close_reason":"Consolidated into single commit: :status now comprehensive, :who removed"}
