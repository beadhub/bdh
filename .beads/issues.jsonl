{"id":"bdh-2et","title":"Request aw CLI chat: flags to positional args + --leave-conversation","description":"Request aw CLI to align chat interface with bdh.\n\nOriginal request: positional args + rename --leaving to --leave-conversation.\nExpanded request: switch aw from stdlib flag to cobra for identical UX (flag ordering works the same in both CLIs).\n\nTracked on aw side as aw-p1b. Eve completed the positional args change; cobra migration requested but she was offline — message sent, awaiting response.","notes":"Eve (eve-implementer) picked this up, tracking as aw-p1b on her side. She'll ping when done.","status":"closed","priority":2,"issue_type":"task","owner":"juan@juanreyero.com","created_at":"2026-02-04T13:04:03.534657Z","created_by":"Juan Reyero","updated_at":"2026-02-04T13:53:40.323687Z","closed_at":"2026-02-04T13:53:40.323687Z","close_reason":"Request communicated to Eve (aw-p1b). Positional args done; cobra migration pending her response."}
{"id":"bdh-6vr","title":"Refactor chat command from flags to subcommands","description":"Refactor bdh :aweb chat from mutually exclusive flags to subcommands. The interface must be identical to aw CLI (which will also be updated to match).\n\nTarget interface (identical for both aw and bdh :aweb):\n  chat send \u003calias\u003e \"message\" [--start-conversation] [--leave-conversation] [--wait N] [--json]\n  chat pending [--json]\n  chat open \u003calias\u003e [--json]\n  chat history \u003calias\u003e [--json]\n  chat hang-on \u003calias\u003e \"message\" [--json]\n\nDesign notes:\n- Required arguments (alias, message) are positional, not flags\n- Optional modifiers (--start-conversation, --leave-conversation, --wait) stay as flags\n- Default send (no modifier) replaces the current --reply mode\n- --leave-conversation (not --leaving) for consistency across both CLIs\n- show-pending is out of scope\n- The aw library API (chat.Send, chat.Open, etc.) does not change — this is CLI-only\n- Embedded command strings in output formatting (lines 390, 411, 494, 584, 586) must also be updated\n\nFiles to modify (all in bdh repo):\n- internal/commands/chat.go - main refactor from flags to subcommands\n- internal/commands/chat_test.go - update tests for new subcommand structure\n- internal/commands/aweb.go - update init() that registers chatCmd as parent with subcommands\n- internal/commands/notifications.go - update hardcoded command references","status":"closed","priority":2,"issue_type":"task","owner":"juan@juanreyero.com","created_at":"2026-02-04T12:48:34.477076Z","created_by":"Juan Reyero","updated_at":"2026-02-04T13:25:51.672803Z","closed_at":"2026-02-04T13:25:51.672803Z","close_reason":"Refactored chat from flags to subcommands. All tests pass."}
{"id":"bdh-a3f","title":"Update agent_docs.go and default policies for chat subcommand syntax","description":"After the chat command is refactored from flags to subcommands (bdh-6vr), update all default policy templates and agent documentation to reference the new subcommand-based syntax. This spans both repos.\n\nChanges needed:\n- 'bdh :aweb chat --start-conversation \u003calias\u003e \"message\"' -\u003e 'bdh :aweb chat send \u003calias\u003e \"message\" --start-conversation'\n- All other chat command references updated to subcommand syntax\n\nFiles to modify in bdh:\n- internal/commands/agent_docs.go - update bdhInstructionsContent and bdhAgentsTemplate\n\nFiles to modify in beadhub:\n- src/beadhub/defaults/03-communication-chat.md - chat policy defaults\n- src/beadhub/defaults/implementer.md - role-specific chat references\n- src/beadhub/defaults/coordinator.md - role-specific chat references\n- src/beadhub/defaults/reviewer.md - role-specific chat references\n- src/beadhub/defaults/backend.md - role-specific chat references\n- src/beadhub/defaults/frontend.md - role-specific chat references\n\nBob already fixed incorrect command references to match the current flag-based interface; this bead updates them again to match the new subcommand interface.","status":"in_progress","priority":2,"issue_type":"task","owner":"juan@juanreyero.com","created_at":"2026-02-04T12:48:40.918124Z","created_by":"Juan Reyero","updated_at":"2026-02-04T13:57:28.115356Z","dependencies":[{"issue_id":"bdh-a3f","depends_on_id":"bdh-6vr","type":"blocks","created_at":"2026-02-04T12:48:43.338891Z","created_by":"Juan Reyero"}]}
